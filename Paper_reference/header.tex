\renewcommand{\epsilon}{\varepsilon}

\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}
\newcommand{\midceil}[1]{\lceil #1 \rceil}
\newcommand{\bigceil}[1]{\bigl\lceil #1 \bigr\rceil}
\newcommand{\Bigceil}[1]{\Bigl\lceil #1 \Bigr\rceil}
\newcommand{\biggceil}[1]{\biggl\lceil #1 \biggr\rceil}
\newcommand{\Biggceil}[1]{\Biggl\lceil #1 \Biggr\rceil}

\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\midfloor}[1]{\lfloor #1 \rfloor}
\newcommand{\bigfloor}[1]{\bigl\lfloor #1 \bigr\rfloor}
\newcommand{\Bigfloor}[1]{\Bigl\lfloor #1 \Bigr\rfloor}
\newcommand{\biggfloor}[1]{\biggl\lfloor #1 \biggr\rfloor}
\newcommand{\Biggfloor}[1]{\Biggl\lfloor #1 \Biggr\rfloor}

\newcommand{\norm}[1]{\left\lVert #1 \right\rVert}
\newcommand{\midnorm}[1]{\lVert #1 \rVert}
\newcommand{\bignorm}[1]{\bigl\lVert #1 \bigr\rVert}
\newcommand{\Bignorm}[1]{\Bigl\lVert #1 \Bigr\rVert}
\newcommand{\biggnorm}[1]{\biggl\lVert #1 \biggr\rVert}
\newcommand{\Biggnorm}[1]{\Biggl\lVert #1 \Biggr\rVert}

\newcommand{\bk}[1]{\left( #1 \right)}
\newcommand{\midbk}[1]{( #1 )}
\newcommand{\bigbk}[1]{\bigl( #1 \bigr)}
\newcommand{\Bigbk}[1]{\Bigl( #1 \Bigr)}
\newcommand{\biggbk}[1]{\biggl( #1 \biggr)}
\newcommand{\Biggbk}[1]{\Biggl( #1 \Biggr)}

\newcommand{\Bk}[1]{\left[ #1 \right]}
\newcommand{\midBk}[1]{[ #1 ]}
\newcommand{\bigBk}[1]{\bigl[ #1 \bigr]}
\newcommand{\BigBk}[1]{\Bigl[ #1 \Bigr]}
\newcommand{\biggBk}[1]{\biggl[ #1 \biggr]}
\newcommand{\BiggBk}[1]{\Biggl[ #1 \Biggr]}

\newcommand{\BK}[1]{\left\{ #1 \right\}}
\newcommand{\midBK}[1]{\{ #1 \}}
\newcommand{\bigBK}[1]{\bigl\{ #1 \bigr\}}
\newcommand{\BigBK}[1]{\Bigl\{ #1 \Bigr\}}
\newcommand{\biggBK}[1]{\biggl\{ #1 \biggr\}}
\newcommand{\BiggBK}[1]{\Biggl\{ #1 \Biggr\}}

\newcommand{\angbk}[1]{\left\langle #1 \right\rangle}
\newcommand{\midangbk}[1]{\langle #1 \rangle}
\newcommand{\bigangbk}[1]{\bigl\langle #1 \bigr\rangle}
\newcommand{\Bigangbk}[1]{\Bigl\langle #1 \Bigr\rangle}
\newcommand{\biggangbk}[1]{\biggl\langle #1 \biggr\rangle}
\newcommand{\Biggangbk}[1]{\Biggl\langle #1 \Biggr\rangle}

\newcommand{\abs}[1]{\left\lvert #1 \right\rvert}
\newcommand{\midabs}[1]{\lvert #1 \rvert}
\newcommand{\bigabs}[1]{\bigl\lvert #1 \bigr\rvert}
\newcommand{\Bigabs}[1]{\Bigl\lvert #1 \Bigr\rvert}
\newcommand{\biggabs}[1]{\biggl\lvert #1 \biggr\rvert}
\newcommand{\Biggabs}[1]{\Biggl\lvert #1 \Biggr\rvert}

\DeclareMathOperator*{\E}{\mathbb{E}}
\DeclareMathOperator*{\myPr}{Pr}
\let\Pr\myPr
\DeclareMathOperator{\poly}{poly}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\newcommand{\F}{\mathbb{F}}
\renewcommand{\d}{\mathrm{d}}
\renewcommand{\tilde}{\widetilde}
\newcommand{\eqdef}{\eqqcolon}
\newcommand{\defeq}{\coloneqq}
\newcommand{\eps}{\varepsilon}
\newcommand{\T}{\mathcal{T}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\renewcommand{\l}{\ell}

\newcommand{\numberthis}{\addtocounter{equation}{1}\tag{\theequation}}
\newcommand{\smallsub}{\scriptscriptstyle}
\newcommand{\tallsub}{{\textstyle\mathstrut}}
\newcommand{\tall}{\vphantom{\sum}}

\usepackage{mleftright}
\let\left\mleft
\let\right\mright

\newcommand{\CW}{\mathrm{CW}}
\newcommand{\sym}{\textup{sym}}
\newcommand{\degen}{\unrhd}
\newcommand{\degenfrom}{\unlhd}
\newcommand{\Aut}{\textup{Aut}}

\renewcommand{\split}{\textsf{\textup{split}}}
\newcommand{\Split}{\textsf{\textup{split}}}

\newcommand{\rot}{\textup{rot}}
\newcommand{\swap}{\textup{swap}}

\newcommand{\strong}{\textup{strong}}
\newcommand{\triple}{\textup{triple}}
\newcommand{\typical}{\textup{typical}}

\newcommand{\A}{\textup{A}}
\newcommand{\B}{\textup{B}}
\renewcommand{\S}{\mathcal{S}}
\newcommand{\calG}{\mathcal{G}}
\newcommand{\calS}{\mathcal{S}}

\makeatletter
\let\save@mathaccent\mathaccent
\newcommand*\if@single[3]{%
  \setbox0\hbox{${\mathaccent"0362{#1}}^H$}%
  \setbox2\hbox{${\mathaccent"0362{\kern0pt#1}}^H$}%
  \ifdim\ht0=\ht2 #3\else #2\fi
  }
\newcommand*\rel@kern[1]{\kern#1\dimexpr\macc@kerna}
\newcommand*\widebar[1]{\@ifnextchar^{{\wide@bar{#1}{0}}}{\wide@bar{#1}{1}}}
\newcommand*\wide@bar[2]{\if@single{#1}{\wide@bar@{#1}{#2}{1}}{\wide@bar@{#1}{#2}{2}}}
\newcommand*\wide@bar@[3]{%
  \begingroup
  \def\mathaccent##1##2{%
    \let\mathaccent\save@mathaccent
    \if#32 \let\macc@nucleus\first@char \fi
    \setbox\z@\hbox{$\macc@style{\macc@nucleus}_{}$}%
    \setbox\tw@\hbox{$\macc@style{\macc@nucleus}{}_{}$}%
    \dimen@\wd\tw@
    \advance\dimen@-\wd\z@
    \divide\dimen@ 3
    \@tempdima\wd\tw@
    \advance\@tempdima-\scriptspace
    \divide\@tempdima 10
    \advance\dimen@-\@tempdima
    \ifdim\dimen@>\z@ \dimen@0pt\fi
    \rel@kern{0.6}\kern-\dimen@
    \if#31
      \overline{\rel@kern{-0.6}\kern\dimen@\macc@nucleus\rel@kern{0.4}\kern\dimen@}%
      \advance\dimen@0.4\dimexpr\macc@kerna
      \let\final@kern#2%
      \ifdim\dimen@<\z@ \let\final@kern1\fi
      \if\final@kern1 \kern-\dimen@\fi
    \else
      \overline{\rel@kern{-0.6}\kern\dimen@#1}%
    \fi
  }%
  \macc@depth\@ne
  \let\math@bgroup\@empty \let\math@egroup\macc@set@skewchar
  \mathsurround\z@ \frozen@everymath{\mathgroup\macc@group\relax}%
  \macc@set@skewchar\relax
  \let\mathaccentV\macc@nested@a
  \if#31
    \macc@nested@a\relax111{#1}%
  \else
    \def\gobble@till@marker##1\endmarker{}%
    \futurelet\first@char\gobble@till@marker#1\endmarker
    \ifcat\noexpand\first@char A\else
      \def\first@char{}%
    \fi
    \macc@nested@a\relax111{\first@char}%
  \fi
  \endgroup
}
\makeatother



\makeatletter
\xpatchcmd\thmt@restatable{%
\csname #2\@xa\endcsname\ifx\@nx#1\@nx\else[{#1}]\fi
}{%
\ifthmt@thisistheone
\csname #2\@xa\endcsname\ifx\@nx#1\@nx\else[{#1}]\fi
\else
\csname #2\@xa\endcsname[{Restated}]
\fi}{}{}
\makeatother


\renewcommand{\tilde}{\widetilde}
\renewcommand{\bar}{\widebar}
\newcommand{\average}{\textup{average}}

\newcommand{\Span}{\textup{span}}

\newcommand{\multirowc}[1]{\begin{tabular}{@{}c@{}}#1\end{tabular}}
\newcommand{\multirowl}[1]{\begin{tabular}{@{}l@{}}#1\end{tabular}}

\newcommand{\ind}{\mathbbm{1}}
\newcommand{\mymiddle}{\;\middle|\;}
\newcommand{\bigbinom}[2]{\left( \begin{array}{c} #1\\#2 \end{array} \right)}

\newcommand{\labs}[1]{\left\lvert #1 \right\rvert}
\newcommand{\lpr}[1]{\left( #1 \right)}
\newcommand{\lcr}[1]{\left\{ #1 \right\}}
\newcommand{\lbr}[1]{\left[ #1 \right]}

\newcommand{\itX}{\textit{X}}
\newcommand{\itY}{\textit{Y}}
\newcommand{\itZ}{\textit{Z}}
\newcommand{\itW}{\textit{W}}


\newcommand{\hashx}{h_{\textit{X}}}
\newcommand{\hashy}{h_{\textit{Y}}}
\newcommand{\hashz}{h_{\textit{Z}}}


\newcommand{\alphx}[1][\alpha]{{#1}_{\textit{X}}}
\newcommand{\alphy}[1][\alpha]{{#1}_{\textit{Y}}}
\newcommand{\alphz}[1][\alpha]{{#1}_{\textit{Z}}}
\let\alphax\alphx
\let\alphay\alphy
\let\alphaz\alphz
\newcommand{\betax}{\alphx[\beta]}
\newcommand{\betay}{\alphy[\beta]}
\newcommand{\betaz}{\alphz[\beta]}

\newcommand{\lvl}{\ensuremath{\l}}  %
\newcommand{\nextlvl}{\ensuremath{(\l \! + \! 1)}}
\newcommand{\lastlvl}{\ensuremath{(\l \! - \! 1)}}

\newcommand{\numxblock}{N_{\textup{BX}}}
\newcommand{\numyblock}{N_{\textup{BY}}}
\newcommand{\numzblock}{N_{\textup{BZ}}}
\newcommand{\alphabx}[1][\alpha]{#1_{\textup{BX}}}
\newcommand{\alphaby}[1][\alpha]{#1_{\textup{BY}}}
\newcommand{\alphabz}[1][\alpha]{#1_{\textup{BZ}}}
\newcommand{\alphant}[1][\alpha]{#1_{\textup{N}}}
\newcommand{\numtriple}{N_{\alphax, \alphay, \alphaz}}
\newcommand{\numretain}{N_{\textup{ret}}}
\newcommand{\numalpha}[1][\alpha]{N_{#1}}
\newcommand{\distShareMargin}[1][\alpha]{D_{#1}}
\newcommand{\distMaxShareMargin}[1][\alpha]{D^*_{#1}}

\newcommand{\pcomp}{p_{\textup{comp}}}
\newcommand{\pcompY}{p_{\itY, \textup{comp}}}
\newcommand{\pcompZ}{p_{\itZ, \textup{comp}}}

\newcommand{\splres}{\beta}  %
\newcommand{\Thole}{T_{\mathrm{hole}}}
\let\splresAverage\splresAvg

\newcommand{\Sym}{\mathcal{S}}
\newcommand{\shuf}{\phi}
\newcommand{\shufi}[1][i]{\shuf_{#1}}

\newcommand{\fracnonholeIJK}{\eta_{\smallsub I,J,K}}
\newcommand{\splresX}{\splres_{\textit{X}}}
\newcommand{\splresY}{\splres_{\textit{Y}}}
\newcommand{\splresZ}{\splres_{\textit{Z}}}

\newcommand{\typicalset}[1][K]{B_{\textup{typical}, #1}}
\newcommand{\plusplusk}[1][k]{\+, \+, #1}
\newcommand{\splresavg}{\bar{\beta}}

\newcommand{\complementshape}{i^{(r)} \!-\! i', \, j^{(r)} \!-\! j', \, k^{(r)} \!-\! k'}
\newcommand{\usefulset}[1][X_I, Y_J, Z_K]{B_{\textup{useful}}(#1)}
\newcommand{\strongset}[1][X_I, Y_J, Z_K]{B_{\textup{strong}}(#1)}

\newcommand{\param}{\mathcal{X}}
\newcommand{\paramglob}{\mathcal{X}_{\textup{glob}}}
\newcommand{\Vglob}{V_{\textup{glob}}}
\newcommand{\objfun}{\textsf{obj}}


\newcommand{\numzerotwotwo}{N_{022}}
\newcommand{\whp}{w.h.p$.$}

\newcommand{\splresXt}[1][t]{\splres_{\textit{X}, #1}}
\newcommand{\splresYt}[1][t]{\splres_{\textit{Y}, #1}}
\newcommand{\splresZt}[1][t]{\splres_{\textit{Z}, #1}}
\newcommand{\splresWt}[1][t]{\splres_{\textit{W}, #1}}
\newcommand{\splonelevelX}{\gamma_{\textit{X}}}
\newcommand{\splonelevelY}{\gamma_{\textit{Y}}}
\newcommand{\splonelevelZ}{\gamma_{\textit{Z}}}
\newcommand{\splonelevelXt}[1][t]{\gamma_{\textit{X}, #1}}
\newcommand{\splonelevelYt}[1][t]{\gamma_{\textit{Y}, #1}}
\newcommand{\splonelevelZt}[1][t]{\gamma_{\textit{Z}, #1}}


\newcommand{\xiXt}[1][t]{\xi_{\textit{X}, #1}}
\newcommand{\xiYt}[1][t]{\xi_{\textit{Y}, #1}}
\newcommand{\xiZt}[1][t]{\xi_{\textit{Z}, #1}}
\newcommand{\xiWt}[1][t]{\xi_{\textit{W}, #1}}

\newcommand{\K}{\kappa}
\newcommand{\oeps}{o_{1/\varepsilon}}

\newcommand{\ang}[1]{\langle #1 \rangle}
\newcommand{\avg}{\textup{avg}}

\newcommand{\splavg}[1]{\splresavg_{#1, *, *, *}}

\newcommand{\+}{\textup{+}}
\newcommand{\<}{\textup{<}}
\newcommand{\calP}{\mathcal{P}}
\newcommand{\calH}{\mathcal{H}}
\newcommand{\hole}{\textup{hole}}
\newcommand{\THash}{\T_{\textup{hash}}}
\newcommand{\TYComp}{\T_{\textup{comp}}^Y}
\newcommand{\TYUseful}{\T_{\textup{useful}}^Y}
\newcommand{\TZComp}{\T_{\textup{comp}}^Z}
\newcommand{\TZUseful}{\T_{\textup{useful}}^Z}

\newcommand{\mmid}{\;\middle|\;}

\newcommand{\say}[1]{``#1''}

\newcommand{\EquationOnSameLine}[1]{\hspace*{\fill}$\displaystyle #1$\hspace*{\fill}\mbox{}}

\newcommand{\creflastconjunction}{, and\nobreakspace}
